(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(293)},130:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),s=(a(130),a(14)),l=a(15),c=a(17),u=a(16),d=a(18),m=a(300),g=a(301),p=a(299),h=a(36),v=a.n(h),b=a(35),f=a.n(b),E=a(122),j=a.n(E),y=a(116),_=a.n(y),O=a(298),w=a(117),T=a.n(w),x=a(118),k=a.n(x),S=a(75),C=a.n(S),N=a(114),I=a.n(N),D=a(115),P=a.n(D),R=a(119),L=a.n(R),U=a(109),B=a.n(U),H=a(69),W=a.n(H),q=a(25),M=a.n(q),A=a(37),V=a.n(A),J=a(111),F=a.n(J),z=a(113),G=a.n(z),Q=a(110),$=a.n(Q),K=a(112),X=a.n(K),Y=a(70),Z=a.n(Y),ee=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{width:""},r.a.createElement(W.a,{component:"nav"},r.a.createElement(Z.a,{direction:"right",in:!0,timeout:{enter:400}},r.a.createElement("div",null,r.a.createElement(M.a,{button:!0,style:{marginRight:100}},r.a.createElement("h6",null,this.props.languageTranslation.welcomeTextDrawer+" "+this.props.userName)),r.a.createElement(B.a,null),r.a.createElement(M.a,{button:!0,style:{marginRight:100}},r.a.createElement(V.a,null,r.a.createElement($.a,null)),r.a.createElement("span",null,this.props.languageTranslation.home)),r.a.createElement(M.a,{button:!0,style:{marginRight:100}},r.a.createElement(V.a,null,r.a.createElement(F.a,null)),r.a.createElement("span",null,this.props.languageTranslation.logs)),r.a.createElement(M.a,{button:!0,style:{marginRight:100}},r.a.createElement(V.a,null,r.a.createElement(X.a,null)),r.a.createElement("span",null,this.props.languageTranslation.login_btn)),r.a.createElement(M.a,{button:!0,style:{marginRight:100}},r.a.createElement(V.a,null,r.a.createElement(G.a,null)),r.a.createElement("span",null,"Logout"))))))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={drawerOpen:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleDrawer",value:function(e){var t=this.state.drawerOpen;this.setState({drawerOpen:!t})}},{key:"createIcon",value:function(){return"arrowBack"===this.props.icon?r.a.createElement(O.a,{to:this.props.link},r.a.createElement(C.a,{color:"inherit"},r.a.createElement(I.a,null))):"menu"===this.props.icon?r.a.createElement(C.a,{color:"inherit"},r.a.createElement(P.a,{onClick:this.toggleDrawer.bind(this)})):void 0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{position:"static",color:this.props.color},r.a.createElement(T.a,null,this.createIcon(),r.a.createElement(k.a,{variant:"h6",color:"inherit"},this.props.title))),r.a.createElement(L.a,{open:this.state.drawerOpen,onClose:this.toggleDrawer.bind(this),width:"100%"},r.a.createElement(ee,{userName:this.props.userName,languageTranslation:this.props.languageTranslation})))}}]),t}(n.Component),ae=a(120),ne=a.n(ae),re=a(33),oe=a.n(re),ie=a(50),se=a.n(ie),le=a(121),ce=a.n(le),ue=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t,a){var n=a.newValue;e.setState({value:n})},e.onSuggestionsFetchRequested=function(t){var a=t.value;e.setState({suggestions:e.getSuggestions(a)})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={value:"",suggestions:[],autoSuggestions:[]},e.getSuggestionValue=function(e){return e.name},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.line_translation,autoSuggestions:this.props.autoSuggestions})}},{key:"componentWillReceiveProps",value:function(e){console.log(e)}},{key:"onUnfoucus",value:function(e){this.props.update({index:this.props.index,content:e.target.value})}},{key:"getSuggestions",value:function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:this.state.autoSuggestions.filter(function(e){return e.content.toLowerCase().slice(0,a)===t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.suggestions;return r.a.createElement("div",null,r.a.createElement(ne.a,{suggestions:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:function(e){return e.content},renderSuggestion:function(e){return r.a.createElement(se.a,{component:"div"},r.a.createElement("div",null,e.content))},inputProps:{value:a,onChange:this.onChange,label:this.props.line_content},renderSuggestionsContainer:function(e){return r.a.createElement(oe.a,Object.assign({},e.containerProps,{square:!0}),e.children)},renderInputComponent:function(t){return r.a.createElement(ce.a,Object.assign({},t,{margin:"normal",variant:"outlined",onBlur:e.onUnfoucus.bind(e),fullWidth:!0}))}}))}}]),t}(n.Component),de=a(302),me=a(34),ge=a.n(me),pe=a(71),he=a.n(pe),ve=a(72),be=a.n(ve),fe=a(73),Ee=a.n(fe),je=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState({mode:t.target.value})},e.state={mode:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"createMenu",value:function(){return this.props.selections.map(function(e){return r.a.createElement(se.a,{key:e.mode,value:e.mode},e.text)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(be.a,{className:"selector"},r.a.createElement(he.a,null,this.props.title),r.a.createElement(Ee.a,{value:this.state.mode,onChange:this.handleChange,input:r.a.createElement(ge.a,{name:"mode"})},this.createMenu())))}}]),t}(n.Component),ye={baseURL:"https://api.mytranshelper.com/api/load-project"},_e=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={songInfo:{},lines:[],autoSuggest:[],isloaded:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state;this.setState({songInfo:{artist:t.artist,title:t.title}});var a=t.userID;v.a.getJSON("".concat(ye.baseURL,"/").concat(a,"/").concat(t.title,"/").concat(t.artist)).done(function(t){e.setState({lines:t.lines,isloaded:!0})})}},{key:"autoSuggestions",value:function(){var e=[],t=0,a=!0,n=!1,r=void 0;try{for(var o,i=this.state.lines[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var s=o.value;""!==s["line-translation"]&&(e.push({index:t,content:s["line-translation"]}),t+=1)}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"createNormalText",value:function(){var e=this,t=this.autoSuggestions();return console.log("A"),this.state.lines.map(function(a,n){return r.a.createElement(ue,{key:n,line_content:a["line-content"],line_translation:a["line-translation"],autoSuggestions:t,index:n,update:e.updateHandler.bind(e)})})}},{key:"updateHandler",value:function(e){for(var t=this.state.autoSuggest,a=0;a<t.length;a++)t[a].index===e.index?t[a].content=e.content:t.push(e);console.log(this.state.autoSuggest)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(te,{icon:"arrowBack",title:this.state.songInfo.title,color:"secondary",link:"/"}),r.a.createElement(te,{title:this.state.songInfo.artist,color:"default"}),r.a.createElement(f.a,{in:!this.state.isloaded,timeout:1e3},r.a.createElement(j.a,{color:"secondary"})),r.a.createElement(je,{className:"selector",selections:[{mode:"words",text:this.props.languageTranslation.words},{mode:"sentences",text:this.props.languageTranslation.sentences}],title:this.props.languageTranslation.type_selector}),this.createNormalText())}}]),t}(n.Component),Oe=Object(de.a)(_e),we=a(124),Te=a.n(we),xe=a(74),ke=a.n(xe),Se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=decodeURI(this.props.title),t=decodeURI(this.props.artist);return r.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3"},r.a.createElement("div",{className:" project-card mdc-card pcard"},r.a.createElement("div",{className:"mdl-card__title mdl-card--expand projectCard"},r.a.createElement("h2",{className:"mdl-card__title-text project-title"},t+"-"+e)),r.a.createElement("div",{className:"mdl-card__actions mdl-card--border"},r.a.createElement(O.a,{to:{pathname:"/editing",state:{userID:this.props.userID,artist:t,title:e}},className:"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"},this.props.loadBtn))))}}]),t}(n.Component),Ce=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"pcard mdc-card"},r.a.createElement("div",{className:"mdl-card__title"},r.a.createElement("h2",{className:"mdl-card__title-text lang",id:"welcomeTextHeader"},this.props.languageTranslation.welcomeTextHeader)),r.a.createElement("div",{className:"mdl-card__supporting-text lang",id:"welcomeText"},this.props.languageTranslation.welcomeText),r.a.createElement("div",{className:"mdl-card__actions mdl-card--border"},r.a.createElement("a",{className:"mdl-button mdl-button--colored\r mdl-js-button mdl-js-ripple-effect",id:"create-project-btn"},r.a.createElement("div",{className:"lang",id:"start-project-btn"},this.props.languageTranslation.start_project_btn))))}}]),t}(n.Component),Ne=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={projects:[],isloaded:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.getJSON("https://api.mytranshelper.com/api/get_all_projects_list/".concat(this.props.userID)).done(function(t){e.setState({projects:t,isloaded:!0}),v()("#musiclist-loadingbar").fadeOut(200)})}},{key:"createProjectCard",value:function(){var e=this;return this.state.projects.map(function(t){return r.a.createElement(Se,{key:t.title,title:t.title,artist:t.artist,loadBtn:e.props.languageTranslation.loadProjectText,userID:e.props.userID})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(te,{icon:"menu",title:this.props.languageTranslation.title,languageTranslation:this.props.languageTranslation,userName:this.props.userName}),r.a.createElement("div",{className:"page-content"},r.a.createElement(Ce,{languageTranslation:this.props.languageTranslation}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons mdl-chip__contact"},"list"),this.props.languageTranslation.projectTag,r.a.createElement(f.a,{in:!this.state.isloaded,timeout:{enter:0,exit:2e3}},r.a.createElement(Te.a,{size:30})))),r.a.createElement(ke.a,{in:this.state.isloaded},r.a.createElement("div",{className:"row"},this.createProjectCard()))))}}]),t}(n.Component),Ie={en:{start_project_btn:"Start Project",artistText:"Artist",songText:"Song's name",welcomeText:"Welcome to mytranshelper, please login first and then click the start project button so that you can start your lyrics translation project.",welcomeTextHeader:"Getting Started",welcomeTextDrawer:"Welcome",welcomeTextDrawerLogin:"Welcome back,",dialogTitleText:"Please enter your project info",uploadBtn:"Upload lyrics",title:"Home page",logpage:"Update logs",logout_btn:"Log out",login_btn:"Log in",loadProjectText:"\u52a0\u8f7d\u9879\u76ee",projectTag:"Projects",loadProject:"Load Project",editing_page_title:"Lyrics Translation",translationProject:"Translation Project",original_text:"Original",translation_text:"Translation",saving_status:"Saved",words:"Editing in words",sentences:"Editing in sentences",type_selector:"Choose the way to display the text",doc_header:"Read the docs",doc_text:"Read some story about developing(Chinese only)",version:"Current version ".concat(.3),"header_0.05":"Version0.05","time_0.05":"2018/8/05","content_0.05":"Set up the basic UI looking and added the lyrics editing function","header_0.1":"Version0.1","time_0.1":"2018/8/09","content_0.1":"Added the list of the songs which user uploaded","header_0.2":"Version0.2","time_0.2":"2018/8/11","content_0.2":"Improved the way to display the lyrics. Redesign the mobile version and added the docs",home:"Home",logs:"Develop logs",createTimedLyrics:"Create timed lyrics",usingApplemusic:"Play music from Apple Music",uploadthetimedlyrics:"Timed lyrics data has been uploaded",currentInfo:"Problem: Won't be able to highlight the word which has short period."},zh:{start_project_btn:"\u5f00\u59cb\u9879\u76ee",artistText:"\u6b4c\u624b",songText:"\u6b4c\u540d",welcomeText:"\u6b22\u8fce\u6765\u5230\u6b4c\u8bcd\u7ffb\u8bd1\u7f51\u7ad9\uff0c\u8bf7\u5148\u767b\u5f55\uff0c\u4e4b\u540e\u8f7b\u70b9\u4e0b\u65b9\u7684\u5f00\u59cb\u9879\u76ee\u6309\u94ae\uff0c\u4fbf\u53ef\u4ee5\u8f7b\u677e\u521b\u5efa\u5c5e\u4e8e\u4f60\u7684\u6b4c\u8bcd\u7ffb\u8bd1\u9879\u76ee\u3002",welcomeTextHeader:"\u5f00\u59cb\u4f7f\u7528",welcomeTextDrawer:"\u6b22\u8fce",welcomeTextDrawerLogin:"\u6b22\u8fce\u56de\u6765,",dialogTitleText:"\u8bf7\u8f93\u5165\u4f60\u7684\u9879\u76ee\u4fe1\u606f",uploadBtn:"\u4e0a\u4f20\u6b4c\u8bcd",title:"\u4e3b\u9875\u9762",logpage:"\u66f4\u65b0\u8bb0\u5f55",logout_btn:"\u767b\u51fa",login_btn:"\u767b\u5165",loadProjectText:"\u52a0\u8f7d\u9879\u76ee",projectTag:"\u5168\u90e8\u9879\u76ee",loadProject:"\u8bfb\u53d6\u9879\u76ee",translationProject:"\u7ffb\u8bd1\u5de5\u7a0b",editing_page_title:"\u6b4c\u8bcd\u7ffb\u8bd1",original_text:"\u539f\u6587",translation_text:"\u8bd1\u6587",saving_status:"\u5df2\u4fdd\u5b58",words:"\u6309\u7167\u5355\u8bcd\u65b9\u5f0f\u7f16\u8f91",sentences:"\u6309\u7167\u53e5\u5b50\u65b9\u5f0f\u7f16\u8f91",type_selector:"\u9009\u62e9\u6587\u672c\u663e\u793a\u65b9\u5f0f",doc_header:"\u9605\u8bfb\u6587\u6863",doc_text:"\u9605\u8bfb\u6709\u5173\u5f00\u53d1\u7684\u4e00\u4e9b\u6545\u4e8b",version:"\u5f53\u524d\u7248\u672c v".concat(.3),"header_0.05":"\u7248\u672c0.05","time_0.05":"2018/8/05","content_0.05":"\u521d\u6b65\u8bbe\u8ba1\u4e86\u6574\u4f53UI\u4ee5\u53ca\u52a0\u5165\u4e86\u6b4c\u8bcd\u7ffb\u8bd1\u529f\u80fd\uff0c\u589e\u52a0\u4e86\u6b4c\u66f2\u7f16\u8f91\u529f\u80fd","header_0.1":"\u7248\u672c0.1","time_0.1":"2018/8/09","content_0.1":"\u589e\u52a0\u4e86\u6b4c\u66f2\u5217\u8868\uff0c\u589e\u52a0\u4e86\u591a\u8bed\u79cd\u7ffb\u8bd1","header_0.2":"\u7248\u672c0.2","time_0.2":"2018/8/11","content_0.2":"\u589e\u52a0\u4e86\u6539\u8fdb\u4e86\u7528\u6237\u7f16\u6392\u6b4c\u8bcd\u7684\u65b9\u5f0f\uff0c\u4e13\u95e8\u5bf9\u624b\u673a\u7248\u672c\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u6539\u8fdb\u4e86UI\u8bbe\u8ba1\u5e76\u4e14\u589e\u52a0\u4e86\u6587\u6863",home:"\u4e3b\u754c\u9762",logs:"\u5f00\u53d1\u65e5\u5fd7",createTimedLyrics:"\u521b\u5efa\u540c\u6b65\u6b4c\u8bcd",usingApplemusic:"\u64ad\u653e\u82f9\u679c\u97f3\u4e50\u6b4c\u66f2",uploadthetimedlyrics:"\u540c\u6b65\u6b4c\u8bcd\u6570\u636e\u5df2\u7ecf\u4e0a\u4f20\uff0c\u8bf7\u5237\u65b0\u9875\u9762",currentInfo:"\u95ee\u9898\uff1a\u5728\u6b4c\u8bcd\u663e\u793a\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u95f4\u9694\u8fc7\u77ed\u5bfc\u81f4\u65e0\u6cd5\u9ad8\u4eae\u5355\u8bcd\u7684\u95ee\u9898\u3002",sentencesmobile:"\u4ee5\u624b\u673a\u6837\u5f0f\u7f16\u8f91"}},De=(a(288),a(290),a(291),function(e){function t(){var e;Object(s.a)(this,t),e=Object(c.a)(this,Object(u.a)(t).call(this));var a=navigator.language.substr(0,2);return e.state={title:"",translation:Ie[a],userID:"e225f036-bef7-11e8-a97b-b0c090c3b9ec",userName:"Qiwei Li"},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"titleChangeHandler",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(Ne,Object.assign({},t,{languageTranslation:e.state.translation,userID:e.state.userID,userName:e.state.userName}))}}),r.a.createElement(p.a,{path:"/editing",render:function(t){return r.a.createElement(Oe,Object.assign({},t,{languageTranslation:e.state.translation}))}}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,2,1]]]);
//# sourceMappingURL=main.f118e5a1.chunk.js.map